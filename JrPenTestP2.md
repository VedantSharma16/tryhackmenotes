### 2.1 Pentesting Fundamentals: 

##### **What is a Penetration Test?**
A Penetration test or pentest is an ethically-driven authorised audit attempt to test and analyse the security defences to protect these assets and pieces of information. A penetration test involves using the same tools, techniques, and methodologies that someone with malicious intent would use and is similar to an audit.

##### **Penetration Testing Ethics**
Before a penetration test starts, a formal discussion occurs between the penetration tester and the system owner. Various tools, techniques, and systems to be tested are agreed on. This discussion **forms the scope of the penetration testing agreement** and will determine the course the penetration test takes. (It may be legal, but ethically questionable)

There are 3 categories of Hats in which hackers are sorted: 
![[Pasted image 20250519085746.png]]

##### **Rules Of Engagement (ROE)**
It is a document created at the initial stages of a pentesting engagement, and consist of 3 main parts, which are responsible for deciding how the engagement carries out. 

1. **Permission**: gives explicit permissions for the engagement to be carried out, essential to legally protect individuals and organizations for the activities they carry out
2. **Test Scope**: annotate specific targets to which the engagement should apply, like only a few apps for example and not the entire network
3. **Rules**: define the exact techniques that are permitted during the engagement, e.g. Phishing is not allowed but MITM is allowed

##### **Penetration Testing Methodologies**
The steps a penetration tester takes during an engagement is known as the methodology. A practical methodology is a smart one, where the steps taken are relevant to the situation at hand.
All of the different industry-level methodologies have a general theme: 

| Stage                 | Description                                                                                                                                                         |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Information Gathering | involves collecting as much public data as possible about the target/organisation (e.g. OSINT)                                                                      |
| Enumeration/Scanning  | involves the discovery of applications and/or services running on the systems(e.g. using nmap to discover ports or web-servers which might be vulnerable)           |
| Exploitation          | involves leveraging vulnerabilities discovered on a system or application, usage of public exploits or exploiting application logic (pre-existing tools or scripts) |
| Privilege Escalation  | expand access to a system, maybe horizontally (another user) or vertically (Administrator)                                                                          |
| Post-Exploitation     | targeting other hosts, gathering additional information, covering your tracks & reporting                                                                           |

##### **Industry-standard methodologies**

1. **OSSTMM**: The Open Source Security Testing Methodology Manual provides a detailed framework of testing strategies for systems, software, applications, communications and the human aspect of cybersecurity. The methodology focuses primarily on how these systems, applications communicate, so it includes a methodology for: 
	1. Telecommunications (phones, VoIP, etc.)
	2. Wired Networks
	3. Wireless communications
	![[Pasted image 20250519091535.png]]

2. **OWASP**: The Open Web Application Security Project framework is a community driven and frequently updated framework used to test the security of web applications and services. The foundation regularly writes reports stating the top ten security vulnerabilities a web application may have, the testing approach, and remediation. ![[Pasted image 20250519092209.png]]
	*Accreditation, such as CHECK, serves as a form of validation that a testing methodology or framework meets certain industry standards and is recognized by professional organizations.*

3. **NIST Cybersecurity Framework 1.1**: The NIST Cybersecurity Framework is a popular framework used to improve an organisation's cybersecurity standards and manage the risk of cyber threats. The framework provides guidelines on security controls & benchmarks for success for organisations from critical infrastructure (power plants, etc.) all through to commercial.![[Pasted image 20250519093415.png]]

4. **NCSC CAF**: he Cyber Assessment Framework (CAF) is an extensive framework of fourteen principles used to assess the risk of various cyber threats and an organisation's defences against these. The framework applies to organisations considered to perform "vitally important services and activities" such as critical infrastructure, banking, and the likes. The framework mainly focuses on and assesses the following topics:
	- Data security
	- System security
	- Identity and access control
	- Resiliency
	- Monitoring
	- Response and recovery planning
	![[Pasted image 20250519093620.png]]

*[For easy language](https://chatgpt.com/share/682a6e15-3920-8006-b317-df4c0ca58e3b)*

##### **Different Boxes of Penetration Testing**

###### **1. Black-Box Testing**
- High level process where tester is given no information about the internal working of any application or service.
- Tester is a regular user testing the functionality and interaction of the application.
- Not much programming or understanding of the program is required for this testing.
- Significantly increases the time spent during information gathering and enumeration phase to understand the attack surface of the target.

###### **2. Grey-Box Testing**
- Combination of White-Box and Black-Box testing, and is most popular for pentesting.
- Tester will have limited knowledge of the internal components of the application or software.
- Interaction will be like Black-Box testing but application knowledge will be applied to resolve issues find during the tests.
- Limited given knowledge saves time, and is chosen for extremely hard attack surfaces

###### **3. White-Box Testing**
- Low level process usually done by software developer who knows programming and application logic.
- Tester will test the internal components of the application, to make sure the specific functions work correctly within a reasonable amount of time.
- Tester will have full knowledge of the application and its expected behaviour.
- Much more time consuming than Black-Box testing, as the tester has to analyse the code, run various tests and verify the working of functions. 


### 2.2 Principles of Security: 

##### **The CIA Triad**
It stands for Confidentiality, Integrity and Availability.

| Principle       | Meaning                                                              | Example                                      |
| --------------- | -------------------------------------------------------------------- | -------------------------------------------- |
| Confidentiality | Keep data hidden from unauthorized users                             | Only HR can access salary files              |
| Integrity       | Data stays accurate and unchanged unless changed by authorized users | A bank transaction cant be modified randomly |
| Availabilty     | Data/Systems must be available when needed                           | A hospital system must be available 24/7     |

##### **AAA Model**
This is an access control model , stands for Authentication, Authorization & Accounting

| Component      | Meaning                      | Analogy                                                  |
| -------------- | ---------------------------- | -------------------------------------------------------- |
| Authentication | proving the identity         | login using username and password                        |
| Authorization  | scope of allowance           | browse Instagram, but cant change its code               |
| Accounting     | keep records of user actions | Instagram logs IP Addresses, location, login time, etc.  |

##### **Non-Repudiation**
- Basically means that a person cant deny they did something. Usually achieved via logs, digital signatures or receipts. 
- When an email is send, it's signed with a private key, so the sender cant deny that he sent it.
- Logs that record user actions are used for proof.

##### **Security Policies**
These are formal rules that define **how an organization manages and protects assets**.
- **Acceptable Use Policy** – what employees can and can’t do with company resources
- **Password Policy** – minimum password length, complexity, etc.
- **Access Control Policy** – who can access what
- **Incident Response Policy** – what to do when there’s a security event

##### **Risk Management Concepts**
- Risk: The possibility of something bad happening (e.g. data breach, DDoS attack)
- Threat: Any potential danger, could be a hacker, malware, natural disaster
- Vulnerability: A weakness that can be exploited (e.g. outdated software)
- Attack: an actual exploitation attempt

*Threat: There’s a thief in the area, Vulnerability: You left your door unlocked, Risk: You could get robbed, Attack: The thief breaks in*

##### **Security Controls**
These are the measures taken to reduce risk. There are 3 main types:
1. Preventive: They stop incidents from happening, e.g. Firewalls and access controls
2. Detective: They detect incidents when they occur, e.g. IDS/IPS systems, log monitoring
3. Corrective: Fix things after an incident has occurred, e.g. Backups, Patching, incident response plans

*they can also be categorized as physical (locks, guards) , technical (firewalls, anti-virus) & administrative (policies, training)*

##### **Multiple Defence Layers**
Firewall --> Antivirus --> Encryption --> 2FA --> Logging --> User Training

##### **Zero Trust Model**
This model assumes no one is trusted by default , not even inside the network. 
1. Every request must be verified
2. Works on "never trust, always verify"
